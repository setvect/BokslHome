# 마이그레이션

```sql
ALTER TABLE TBCA_MEMO_CATEGORY 
ADD COLUMN DELETE_F CHAR(1) DEFAULT 'N' NOT NULL;


ALTER TABLE TBYB_COMMENT ALTER COLUMN "USER" RENAME TO USER_ID;
```

## TBBB_BOARD_ARTICLE 테이블 컬럼 추가

```sql
-- 본문 유형 컬럼 추가
ALTER TABLE TBBB_BOARD_ARTICLE
ADD COLUMN CONTENT_TYPE VARCHAR(20) NOT NULL DEFAULT 'HTML';

-- 기존 ENCRYPT_TYPE 컬럼이 있다면 삭제 (CHECK 제약조건 문제 해결)
ALTER TABLE TBBB_BOARD_ARTICLE
DROP COLUMN IF EXISTS ENCRYPT_TYPE;

-- 암호화 유형 컬럼 추가 (NULL 허용, HEX 또는 AES_GCM)
ALTER TABLE TBBB_BOARD_ARTICLE
ADD COLUMN ENCRYPT_TYPE VARCHAR(20) NULL DEFAULT NULL;

-- 기존 암호화된 게시물의 암호화 유형을 HEX로 설정 (호환성 유지)
UPDATE TBBB_BOARD_ARTICLE
SET ENCRYPT_TYPE = 'HEX'
WHERE ENCRYPT_F = 'Y';
```
