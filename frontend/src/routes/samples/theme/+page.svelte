<script lang="ts">
  import * as Card from "$lib/components/ui/card/index";
  import Button from "$lib/components/ui/button.svelte";
  import { theme } from "$lib/stores/theme";
  import { onMount } from "svelte";

  onMount(() => {
    theme.init();
  });
</script>

<div class="min-h-screen bg-background text-foreground">
  <div class="container mx-auto py-12">
    <div class="mb-8">
      <h1 class="text-3xl font-bold mb-2">π¨ Theme</h1>
      <p class="text-muted-foreground">ν…λ§ μ„¤μ • λ° λ‹¤ν¬/λΌμ΄νΈ λ¨λ“ μ „ν™</p>
    </div>

    <div class="space-y-8">
      <!-- Theme Controls -->
      <Card.Root>
        <Card.Header>
          <Card.Title>ν…λ§ μ„¤μ •</Card.Title>
          <Card.Description>
            λΌμ΄νΈ, λ‹¤ν¬, μ‹μ¤ν… μ„¤μ • μ¤‘μ—μ„ μ„ νƒν•μ„Έμ”
          </Card.Description>
        </Card.Header>
        <Card.Content>
          <div class="flex gap-4">
            <Button 
              variant="outline"
              on:click={() => theme.setTheme('light')}
            >
              β€οΈ λΌμ΄νΈ
            </Button>
            <Button 
              variant="outline"
              on:click={() => theme.setTheme('dark')}
            >
              π™ λ‹¤ν¬
            </Button>
            <Button 
              variant="outline"
              on:click={() => theme.setTheme('system')}
            >
              π’» μ‹μ¤ν…
            </Button>
          </div>
        </Card.Content>
      </Card.Root>

      <!-- Color Palette -->
      <Card.Root>
        <Card.Header>
          <Card.Title>μ»¬λ¬ ν”λ νΈ</Card.Title>
          <Card.Description>
            ν„μ¬ ν…λ§μ μƒ‰μƒ λ³€μλ“¤μ„ ν™•μΈν•  μ μμµλ‹λ‹¤
          </Card.Description>
        </Card.Header>
        <Card.Content>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <!-- Background Colors -->
            <div class="space-y-2">
              <div class="h-16 bg-background border rounded-md flex items-center justify-center">
                <span class="text-xs">Background</span>
              </div>
              <div class="h-16 bg-card border rounded-md flex items-center justify-center">
                <span class="text-xs">Card</span>
              </div>
              <div class="h-16 bg-popover border rounded-md flex items-center justify-center">
                <span class="text-xs">Popover</span>
              </div>
            </div>

            <!-- Interactive Colors -->
            <div class="space-y-2">
              <div class="h-16 bg-primary text-primary-foreground rounded-md flex items-center justify-center">
                <span class="text-xs">Primary</span>
              </div>
              <div class="h-16 bg-secondary text-secondary-foreground rounded-md flex items-center justify-center">
                <span class="text-xs">Secondary</span>
              </div>
              <div class="h-16 bg-accent text-accent-foreground rounded-md flex items-center justify-center">
                <span class="text-xs">Accent</span>
              </div>
            </div>

            <!-- Utility Colors -->
            <div class="space-y-2">
              <div class="h-16 bg-muted text-muted-foreground rounded-md flex items-center justify-center">
                <span class="text-xs">Muted</span>
              </div>
              <div class="h-16 bg-destructive text-destructive-foreground rounded-md flex items-center justify-center">
                <span class="text-xs">Destructive</span>
              </div>
              <div class="h-16 border bg-card rounded-md flex items-center justify-center">
                <span class="text-xs">Border</span>
              </div>
            </div>

            <!-- Input & Ring -->
            <div class="space-y-2">
              <div class="h-16 bg-input rounded-md flex items-center justify-center border">
                <span class="text-xs">Input</span>
              </div>
              <div class="h-16 bg-ring rounded-md flex items-center justify-center">
                <span class="text-xs text-white">Ring</span>
              </div>
              <div class="h-16 bg-foreground text-background rounded-md flex items-center justify-center">
                <span class="text-xs">Foreground</span>
              </div>
            </div>
          </div>
        </Card.Content>
      </Card.Root>

      <!-- Theme Preview -->
      <Card.Root>
        <Card.Header>
          <Card.Title>μ»΄ν¬λ„νΈ λ―Έλ¦¬λ³΄κΈ°</Card.Title>
          <Card.Description>
            ν„μ¬ ν…λ§μ—μ„ κ° μ»΄ν¬λ„νΈλ“¤μ΄ μ–΄λ–»κ² λ³΄μ΄λ”μ§€ ν™•μΈν•μ„Έμ”
          </Card.Description>
        </Card.Header>
        <Card.Content class="space-y-4">
          <!-- Buttons Preview -->
          <div>
            <h4 class="font-medium mb-3">λ²„νΌ μ¤νƒ€μΌ</h4>
            <div class="flex flex-wrap gap-2">
              <Button>Primary</Button>
              <Button variant="secondary">Secondary</Button>
              <Button variant="outline">Outline</Button>
              <Button variant="ghost">Ghost</Button>
              <Button variant="destructive">Destructive</Button>
            </div>
          </div>

          <!-- Text Styles -->
          <div>
            <h4 class="font-medium mb-3">ν…μ¤νΈ μ¤νƒ€μΌ</h4>
            <div class="space-y-2">
              <p class="text-foreground">κΈ°λ³Έ ν…μ¤νΈ (foreground)</p>
              <p class="text-muted-foreground">λ³΄μ΅° ν…μ¤νΈ (muted-foreground)</p>
              <p class="text-accent-foreground">κ°•μ΅° ν…μ¤νΈ (accent-foreground)</p>
            </div>
          </div>

          <!-- Surface Examples -->
          <div>
            <h4 class="font-medium mb-3">λ°°κ²½ μ¤νƒ€μΌ</h4>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="bg-muted p-4 rounded-md">
                <p class="text-sm">Muted λ°°κ²½</p>
              </div>
              <div class="bg-accent p-4 rounded-md">
                <p class="text-sm">Accent λ°°κ²½</p>
              </div>
              <div class="border-2 border-dashed border-border p-4 rounded-md">
                <p class="text-sm">Border μ¤νƒ€μΌ</p>
              </div>
            </div>
          </div>
        </Card.Content>
      </Card.Root>

      <!-- Current Theme Info -->
      <Card.Root>
        <Card.Header>
          <Card.Title>ν„μ¬ ν…λ§ μ •λ³΄</Card.Title>
        </Card.Header>
        <Card.Content>
          <div class="space-y-2">
            <p><strong>ν„μ¬ ν…λ§:</strong> <span class="capitalize">{$theme}</span></p>
            <p><strong>CSS ν΄λμ¤:</strong> {$theme === 'light' ? 'light (κΈ°λ³Έ)' : 'dark'}</p>
            <p><strong>μ €μ¥ μ„μΉ:</strong> localStorage</p>
          </div>
        </Card.Content>
      </Card.Root>
    </div>
  </div>
</div>